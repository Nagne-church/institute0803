<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기독교 강요 33강: 중보자 예수 그리스도</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
        .prose {
            max-width: 100%;
        }
        .prose h1 {
            font-size: 2.25rem; /* 36px */
            line-height: 2.5rem; /* 40px */
            font-weight: 800;
            margin-bottom: 1rem;
        }
        .prose h2 {
            font-size: 1.875rem; /* 30px */
            line-height: 2.25rem; /* 36px */
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e7eb;
        }
        .prose h3 {
            font-size: 1.25rem; /* 20px */
            line-height: 1.75rem; /* 28px */
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .prose p, .prose ul {
            font-size: 1rem; /* 16px */
            line-height: 1.75;
            color: #374151;
        }
        .prose strong {
            font-weight: 600;
            color: #111827;
        }
        .prose ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .prose li {
            margin-bottom: 0.5rem;
        }
        .prose blockquote {
            border-left-width: 4px;
            border-left-color: #d1d5db;
            padding-left: 1rem;
            font-style: italic;
            color: #4b5563;
        }
        .ask-question-btn {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 0.75rem 1.5rem;
            background-color: #4f46e5;
            color: white;
            font-weight: 600;
            border-radius: 0.375rem;
            transition: background-color 0.3s;
            cursor: pointer;
        }
        .ask-question-btn:hover {
            background-color: #4338ca;
        }
        #qaModal.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div id="content-container" class="prose max-w-4xl mx-auto px-6 py-12">
        <h1>기독교 강요 33강: 중보자 예수 그리스도</h1>
        
        <p class="text-lg text-gray-600">본 노트는 칼빈의 기독교 강요 강의 중, 삼위일체의 제2위이신 성자 하나님, 예수 그리스도의 중보자 되심에 대한 내용을 심층적으로 다룹니다.</p>

        <div class="chapter-content">
            <h2>제1장: 구원자 그리스도의 필연성</h2>
            <p>인류의 구원을 위해 그리스도는 왜 반드시 필요한 존재인가? 그 필연성은 인간의 절망적인 상태와 하나님의 무한한 자비, 이 두 가지 측면에서 조명됩니다.</p>
            
            <h3>1.1 인간의 전적 무능과 하나님의 자비</h3>
            <p>하나님 앞에 선 인간은 스스로의 힘으로 구원에 이를 수 없는 상태에 놓여있습니다. 인간은 다음과 같은 것들의 속박 아래 있습니다.</p>
            <ul>
                <li><strong>마귀의 압제:</strong> 사탄의 권세 아래 놓여 있음.</li>
                <li><strong>죄의 멍에:</strong> 죄의 본성에서 벗어날 수 없음.</li>
                <li><strong>죽음의 속박:</strong> 필연적인 육체적, 영적 죽음을 마주함.</li>
                <li><strong>영원한 형벌:</strong> 하나님의 공의로운 심판을 피할 수 없음.</li>
            </ul>
            <p>이러한 절망 속에서 하나님은 그의 무한한 친절과 자비로 인해 구원의 길을 열어주셨습니다. 그 방법이 바로 그의 <strong>외아들이신 예수 그리스도를 우리에게 보내시는 것</strong>이었습니다.</p>

            <h3>1.2 성육신: 하나님께 나아가는 유일한 길</h3>
            <p>거룩하신 창조주 하나님과 죄인인 인간 사이에는 건널 수 없는 무한한 격차가 존재합니다. 이 간극을 메우기 위해, 하나님께서는 인간이 되시는 방법을 택하셨습니다. 이것이 바로 <strong>성육신(Incarnation)</strong>의 신비입니다. 그리스도께서 인성을 취하심으로써, 비로소 인류가 하나님 앞에 담대히 나아갈 수 있는 중보자가 되셨습니다.</p>
            <button class="ask-question-btn">이해를 돕는 질문하기</button>
        </div>

        <div class="chapter-content">
            <h2>제2장: 중보자의 역할과 적용 범위</h2>
            <p>그리스도의 중보 사역은 죄인 된 인간에게만 국한되지 않으며, 피조세계 전체에 걸쳐 그의 머리 되심을 드러냅니다. 특히 그의 인성은 중보 사역의 핵심적인 역할을 합니다.</p>

            <h3>2.1 인간을 위한 중보자</h3>
            <p>그리스도는 우리의 연약함을 아시고 우리를 대신하여 하나님께 나아가는 대제사장이십니다.</p>
            <ul>
                <li><strong>접근 가능한 중보자:</strong> 디모데전서 2장 5절이 "사람이신 그리스도 예수"라고 강조하는 이유는, 우리와 같은 인성을 지니셨기에 우리가 그를 쉽게 이해하고 의지하며 나아갈 수 있도록 하기 위함입니다.</li>
                <li><strong>공감하는 중보자:</strong> 히브리서 4장 15절은 그가 "우리의 연약함을 체휼하신" 분임을 증언합니다. 모든 시험을 우리와 동일하게 겪으셨기에, 우리의 고통을 완벽하게 이해하고 도우실 수 있습니다.</li>
                <li><strong>'복된 교환'의 실행자:</strong> 마르틴 루터가 말한 '복된 교환(Blessed Exchange)' 개념은 중보 사역의 정수를 보여줍니다.
                    <blockquote>그리스도께서는 우리의 모든 죄와 저주, 죽음과 형벌을 자신의 것으로 가져가시고, 대신 우리에게는 당신의 완전한 의와 생명, 구원과 은혜를 부어주셨습니다.</blockquote>
                    이 교환을 통해 죄인이 하나님의 자녀로, 지옥의 상속자가 천국의 상속자로 변화되는 기적이 일어납니다.
                </li>
            </ul>

            <h3>2.2 천사를 위한 중보자</h3>
            <p>칼빈은 한 걸음 더 나아가, 죄가 없는 거룩한 천사들조차 그리스도를 필요로 한다고 설명합니다. 이는 죄 사함의 차원이 아닌, <strong>존재론적 차원</strong>의 필요성입니다.</p>
            <ul>
                <li><strong>피조물의 한계:</strong> 천사 역시 하나님에 의해 창조된 피조물입니다. 피조물은 그 자체로 창조주 앞에 설 수 없습니다.</li>
                <li><strong>만물의 머리이신 그리스도:</strong> 골로새서 1장에 따르면 그리스도는 모든 피조물보다 먼저 나시고 만물의 으뜸, 즉 머리가 되십니다. 따라서 천사를 포함한 모든 피조물은 자신의 머리 되신 그리스도를 통해서만 창조주 하나님과 연결되고 그를 섬길 수 있습니다.</li>
            </ul>
            <button class="ask-question-btn">이해를 돕는 질문하기</button>
        </div>

        <div class="chapter-content">
            <h2>제3장: 성육신의 신비, '위격적 연합'</h2>
            <p>"말씀이 육신이 되었다"는 요한복음의 선포는 기독교 신앙의 핵심 신비인 '위격적 연합'을 가리킵니다.</p>
            
            <h3>3.1 두 본성의 연합</h3>
            <p><strong>위격적 연합(Hypostatic Union)</strong>이란, 예수 그리스도라는 한 인격(Person) 안에 두 가지 본성(Natures), 즉 <strong>완전한 신성과 완전한 인성</strong>이 혼합되거나 변하거나 나뉘지 않고 신비롭게 연합되어 있음을 의미합니다. 그는 '하나님이면서 동시에 사람'이신 유일한 존재입니다.</p>
            
            <h3>3.2 위격적 연합의 중요성</h3>
            <p>그리스도의 구원 사역은 이 위격적 연합에 기반합니다. 만약 그리스도의 신성이나 인성, 어느 한쪽이라도 부정하거나 약화시킨다면 구원의 진리 전체가 왜곡됩니다.</p>
            <ul>
                <li><strong>인성이 없었다면:</strong> 우리의 죄를 대신 짊어지고 죽으실 수 없었을 것입니다.</li>
                <li><strong>신성이 없었다면:</strong> 그의 죽음이 온 인류를 구원할 무한한 가치를 지닐 수 없었을 것입니다.</li>
            </ul>
            <p>따라서 그리스도의 신성과 인성을 모두 인정하는 것은 그의 구원자 되심을 올바로 믿기 위한 필수적인 전제입니다.</p>
            <button class="ask-question-btn">이해를 돕는 질문하기</button>
        </div>
    </div>

    <div id="qaModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h2 id="modalTitle" class="text-2xl font-bold">질문하기</h2>
                <button id="closeModalBtn" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            </div>
            <div id="modalContent" class="space-y-4 overflow-y-auto flex-grow">
                <p class="font-semibold">주제: <span id="chapterTitle" class="font-normal"></span></p>
                <div>
                    <label for="userQuestion" class="block mb-2 font-semibold text-gray-700">질문을 입력하세요:</label>
                    <textarea id="userQuestion" class="w-full h-24 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="이 장의 내용과 관련하여 궁금한 점을 질문해주세요..."></textarea>
                </div>
                <button id="submitQuestionBtn" class="w-full px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 transition">
                    답변 생성하기
                </button>
                <div id="answerArea" class="mt-4 p-4 border-t border-gray-200 hidden">
                    <h3 class="font-bold text-lg mb-2">Gemini의 답변</h3>
                    <div id="answerText" class="text-gray-800 whitespace-pre-wrap leading-relaxed"></div>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const contentContainer = document.getElementById('content-container');
            if (contentContainer) {
                contentContainer.innerHTML = contentContainer.innerHTML.replace(/\[cite_start\]|\[\/cite_start\]/g, '');
            }

            const qaModal = document.getElementById('qaModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const submitQuestionBtn = document.getElementById('submitQuestionBtn');
            const askButtons = document.querySelectorAll('.ask-question-btn');
            
            let currentChapterTitle = '';
            let currentChapterContext = '';

            const openModal = (btn) => {
                const chapterContentDiv = btn.closest('.chapter-content');
                currentChapterTitle = chapterContentDiv.querySelector('h2').textContent;
                
                const tempDiv = chapterContentDiv.cloneNode(true);
                tempDiv.querySelectorAll('h2, .ask-question-btn').forEach(el => el.remove());
                currentChapterContext = tempDiv.innerText.trim();
                
                document.getElementById('chapterTitle').textContent = currentChapterTitle;
                document.getElementById('userQuestion').value = '';
                document.getElementById('answerArea').classList.add('hidden');
                document.getElementById('answerText').innerHTML = '';
                qaModal.classList.remove('hidden');
            };

            const closeModal = () => {
                qaModal.classList.add('hidden');
            };

            askButtons.forEach(btn => {
                btn.addEventListener('click', () => openModal(btn));
            });

            closeModalBtn.addEventListener('click', closeModal);
            window.addEventListener('click', (event) => {
                if (event.target === qaModal) {
                    closeModal();
                }
            });

            submitQuestionBtn.addEventListener('click', async () => {
                const userQuestion = document.getElementById('userQuestion').value.trim();
                if (!userQuestion) {
                    alert('질문을 입력해주세요.');
                    return;
                }

                const finalPrompt = `
                    당신은 신학적 질문에 답변하는 전문 AI 어시스턴트입니다. 아래에 명시된 두 가지 규칙의 우선순위를 반드시 지켜서 사용자의 질문에 답변해 주세요.

                    [규칙 1: 주어진 자료 우선의 원칙]
                    - 최우선적으로, 아래에 제공되는 "[강의 노트 내용]"에 근거하여 답변을 생성해야 합니다.
                    - 자료에 명시된 사실과 논리를 바탕으로 질문에 직접적으로 그리고 자연스럽게 답해주세요.

                    [규칙 2: 신학적 보충의 원칙]
                    - 만약 "[강의 노트 내용]"만으로 답변하기에 정보가 불충분하거나 관련 내용이 없을 경우에는, '전통적 개혁신학'의 관점에서 답변을 보충할 수 있습니다.
                    - 이 경우, 답변의 문맥상 필요하다면 "전통적 개혁신학의 관점에서 볼 때..."와 같이 서술을 시작해주세요.

                    ---
                    [강의 노트 제목]: ${currentChapterTitle}
                    ---
                    [강의 노트 내용]:
                    ${currentChapterContext}
                    ---
                    [사용자 질문]:
                    ${userQuestion}
                `;

                const answerArea = document.getElementById('answerArea');
                const answerText = document.getElementById('answerText');
                
                answerArea.classList.remove('hidden');
                answerText.innerHTML = '<p>답변을 생성하는 중입니다. 잠시만 기다려주세요...</p>';
                submitQuestionBtn.disabled = true;
                submitQuestionBtn.classList.add('bg-indigo-400');
                submitQuestionBtn.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');

                try {
                    const response = await fetch('/api/ask-gemini', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ prompt: finalPrompt }),
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    
                    let resultText = "답변을 생성하지 못했습니다. 다시 시도해 주세요.";
                    if (data && data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts[0] && data.candidates[0].content.parts[0].text) {
                        resultText = data.candidates[0].content.parts[0].text;
                    } else {
                        console.error("Unexpected response structure:", data);
                    }
                    
                    answerText.innerText = resultText;

                } catch (error) {
                    console.error('Error fetching answer:', error);
                    answerText.innerHTML = `<p class="text-red-500">오류가 발생했습니다: ${error.message}</p><p>Vercel 배포 환경이 아닌 경우, 서버리스 함수(api/ask-gemini.js)가 작동하지 않을 수 있습니다.</p>`;
                } finally {
                    submitQuestionBtn.disabled = false;
                    submitQuestionBtn.classList.remove('bg-indigo-400');
                    submitQuestionBtn.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
                }
            });
        });
    </script>
</body>
</html>